[ema@testlab:atelier-05] $ vagrant up
Bringing machine 'rocky' up with 'virtualbox' provider...
Bringing machine 'debian' up with 'virtualbox' provider...
Bringing machine 'suse' up with 'virtualbox' provider...
Bringing machine 'ansible' up with 'virtualbox' provider...
==> rocky: Importing base box 'generic/rocky9'...
==> rocky: Matching MAC address for NAT networking...
==> rocky: Checking if box 'generic/rocky9' version '4.3.12' is up to date...
==> rocky: Setting the name of the VM: atelier-05_rocky_1742809076996_54527
==> rocky: Clearing any previously set network interfaces...
==> rocky: Preparing network interfaces based on configuration...
    rocky: Adapter 1: nat
    rocky: Adapter 2: hostonly
==> rocky: Forwarding ports...
    rocky: 22 (guest) => 2222 (host) (adapter 1)
==> rocky: Running 'pre-boot' VM customizations...
==> rocky: Booting VM...
==> rocky: Waiting for machine to boot. This may take a few minutes...
    rocky: SSH address: 127.0.0.1:2222
    rocky: SSH username: vagrant
    rocky: SSH auth method: private key
    rocky: 
    rocky: Vagrant insecure key detected. Vagrant will automatically replace
    rocky: this with a newly generated keypair for better security.
    rocky: 
    rocky: Inserting generated public key within guest...
    rocky: Removing insecure key from the guest if it's present...
    rocky: Key inserted! Disconnecting and reconnecting using new SSH key...
==> rocky: Machine booted and ready!
==> rocky: Setting hostname...
==> rocky: Configuring and enabling network interfaces...
==> rocky: Mounting shared folders...
    rocky: /home/ema/formation-ansible/atelier-05 => /vagrant
==> rocky: Running provisioner: shell...
    rocky: Running: /tmp/vagrant-shell20250324-40039-tr173y.sh
==> debian: Importing base box 'generic/debian12'...
==> debian: Matching MAC address for NAT networking...
==> debian: Checking if box 'generic/debian12' version '4.3.12' is up to date...
==> debian: Setting the name of the VM: atelier-05_debian_1742809127303_63766
==> debian: Fixed port collision for 22 => 2222. Now on port 2200.
==> debian: Clearing any previously set network interfaces...
==> debian: Preparing network interfaces based on configuration...
    debian: Adapter 1: nat
    debian: Adapter 2: hostonly
==> debian: Forwarding ports...
    debian: 22 (guest) => 2200 (host) (adapter 1)
==> debian: Running 'pre-boot' VM customizations...
==> debian: Booting VM...
==> debian: Waiting for machine to boot. This may take a few minutes...
    debian: SSH address: 127.0.0.1:2200
    debian: SSH username: vagrant
    debian: SSH auth method: private key
    debian: 
    debian: Vagrant insecure key detected. Vagrant will automatically replace
    debian: this with a newly generated keypair for better security.
    debian: 
    debian: Inserting generated public key within guest...
    debian: Removing insecure key from the guest if it's present...
    debian: Key inserted! Disconnecting and reconnecting using new SSH key...
==> debian: Machine booted and ready!
==> debian: Setting hostname...
==> debian: Configuring and enabling network interfaces...
==> debian: Mounting shared folders...
    debian: /home/ema/formation-ansible/atelier-05 => /vagrant
==> suse: Importing base box 'generic/opensuse15'...
==> suse: Matching MAC address for NAT networking...
==> suse: Checking if box 'generic/opensuse15' version '4.3.12' is up to date...
==> suse: Setting the name of the VM: atelier-05_suse_1742809185899_6468
==> suse: Fixed port collision for 22 => 2222. Now on port 2201.
==> suse: Clearing any previously set network interfaces...
==> suse: Preparing network interfaces based on configuration...
    suse: Adapter 1: nat
    suse: Adapter 2: hostonly
==> suse: Forwarding ports...
    suse: 22 (guest) => 2201 (host) (adapter 1)
==> suse: Running 'pre-boot' VM customizations...
==> suse: Booting VM...
==> suse: Waiting for machine to boot. This may take a few minutes...
    suse: SSH address: 127.0.0.1:2201
    suse: SSH username: vagrant
    suse: SSH auth method: private key
    suse: 
    suse: Vagrant insecure key detected. Vagrant will automatically replace
    suse: this with a newly generated keypair for better security.
    suse: 
    suse: Inserting generated public key within guest...
    suse: Removing insecure key from the guest if it's present...
    suse: Key inserted! Disconnecting and reconnecting using new SSH key...
==> suse: Machine booted and ready!
==> suse: Setting hostname...
==> suse: Configuring and enabling network interfaces...
==> suse: Mounting shared folders...
    suse: /home/ema/formation-ansible/atelier-05 => /vagrant
==> ansible: Importing base box 'generic/rocky9'...
==> ansible: Matching MAC address for NAT networking...
==> ansible: Checking if box 'generic/rocky9' version '4.3.12' is up to date...
==> ansible: Setting the name of the VM: atelier-05_ansible_1742809269188_47627
==> ansible: Fixed port collision for 22 => 2222. Now on port 2202.
==> ansible: Clearing any previously set network interfaces...
==> ansible: Preparing network interfaces based on configuration...
    ansible: Adapter 1: nat
    ansible: Adapter 2: hostonly
==> ansible: Forwarding ports...
    ansible: 22 (guest) => 2202 (host) (adapter 1)
==> ansible: Running 'pre-boot' VM customizations...
==> ansible: Booting VM...
==> ansible: Waiting for machine to boot. This may take a few minutes...
    ansible: SSH address: 127.0.0.1:2202
    ansible: SSH username: vagrant
    ansible: SSH auth method: private key
    ansible: 
    ansible: Vagrant insecure key detected. Vagrant will automatically replace
    ansible: this with a newly generated keypair for better security.
    ansible: 
    ansible: Inserting generated public key within guest...
    ansible: Removing insecure key from the guest if it's present...
    ansible: Key inserted! Disconnecting and reconnecting using new SSH key...
==> ansible: Machine booted and ready!
==> ansible: Setting hostname...
==> ansible: Configuring and enabling network interfaces...
==> ansible: Mounting shared folders...
    ansible: /home/ema/formation-ansible/atelier-05 => /vagrant
==> ansible: Running provisioner: shell...
    ansible: Running: /tmp/vagrant-shell20250324-40039-6icc9l.sh
    ansible: '/vagrant/hosts' -> '/etc/hosts'
    ansible: Extra Packages for Enterprise Linux 9 - x86_64  7.5 MB/s |  23 MB     00:03
    ansible: Extra Packages for Enterprise Linux 9 openh264  2.4 kB/s | 2.5 kB     00:01
    ansible: Rocky Linux 9 - BaseOS                          2.0 MB/s | 2.3 MB     00:01
    ansible: Rocky Linux 9 - AppStream                       6.2 MB/s | 8.6 MB     00:01
    ansible: Rocky Linux 9 - Extras                           22 kB/s |  16 kB     00:00
    ansible: Package epel-release-9-7.el9.noarch is already installed.
    ansible: Dependencies resolved.
    ansible: ================================================================================
    ansible:  Package                Architecture     Version           Repository      Size
    ansible: ================================================================================
    ansible: Upgrading:
    ansible:  epel-release           noarch           9-9.el9           epel            19 k
    ansible: 
    ansible: Transaction Summary
    ansible: ================================================================================
    ansible: Upgrade  1 Package
    ansible: 
    ansible: Total download size: 19 k
    ansible: Downloading Packages:
    ansible: epel-release-9-9.el9.noarch.rpm                  14 kB/s |  19 kB     00:01
    ansible: --------------------------------------------------------------------------------
    ansible: Total                                            11 kB/s |  19 kB     00:01
    ansible: Running transaction check
    ansible: Transaction check succeeded.
    ansible: Running transaction test
    ansible: Transaction test succeeded.
    ansible: Running transaction
    ansible:   Preparing        :                                                        1/1
    ansible:   Upgrading        : epel-release-9-9.el9.noarch                            1/2
    ansible: warning: /etc/yum.repos.d/epel-testing.repo created as /etc/yum.repos.d/epel-testing.repo.rpmnew
    ansible: warning: /etc/yum.repos.d/epel.repo created as /etc/yum.repos.d/epel.repo.rpmnew
    ansible: 
    ansible:   Running scriptlet: epel-release-9-9.el9.noarch                            1/2
    ansible:   Cleanup          : epel-release-9-7.el9.noarch                            2/2
    ansible:   Running scriptlet: epel-release-9-7.el9.noarch                            2/2
    ansible:   Verifying        : epel-release-9-9.el9.noarch                            1/2
    ansible:   Verifying        : epel-release-9-7.el9.noarch                            2/2
    ansible: 
    ansible: Upgraded:
    ansible:   epel-release-9-9.el9.noarch
    ansible: 
    ansible: Complete!
    ansible: Last metadata expiration check: 0:00:05 ago on Mon 24 Mar 2025 09:41:53 AM UTC.
    ansible: Package vim-enhanced-2:8.2.2637-20.el9_1.x86_64 is already installed.
    ansible: Dependencies resolved.
    ansible: ================================================================================
    ansible:  Package                  Arch       Version                Repository     Size
    ansible: ================================================================================
    ansible: Installing:
    ansible:  ansible                  noarch     1:7.7.0-1.el9          epel           34 M
    ansible:  nano                     x86_64     5.6.1-6.el9            baseos        691 k
    ansible:  sshpass                  x86_64     1.09-4.el9             appstream      27 k
    ansible: Upgrading:
    ansible:  vim-common               x86_64     2:8.2.2637-21.el9      appstream     6.6 M
    ansible:  vim-enhanced             x86_64     2:8.2.2637-21.el9      appstream     1.7 M
    ansible: Installing dependencies:
    ansible:  ansible-core             x86_64     1:2.14.17-1.el9        appstream     2.2 M
    ansible:  git-core                 x86_64     2.43.5-2.el9_5         appstream     4.4 M
    ansible:  python3-cffi             x86_64     1.14.5-5.el9           baseos        241 k
    ansible:  python3-cryptography     x86_64     36.0.1-4.el9           baseos        1.2 M
    ansible:  python3-packaging        noarch     20.9-5.el9             appstream      69 k
    ansible:  python3-ply              noarch     3.11-14.el9.0.1        baseos        103 k
    ansible:  python3-pycparser        noarch     2.20-6.el9             baseos        124 k
    ansible:  python3-pyyaml           x86_64     5.4.1-6.el9            baseos        191 k
    ansible:  python3-resolvelib       noarch     0.5.4-5.el9            appstream      29 k
    ansible:  python3-setuptools       noarch     53.0.0-13.el9          baseos        838 k
    ansible: 
    ansible: Transaction Summary
    ansible: ================================================================================
    ansible: Install  13 Packages
    ansible: Upgrade   2 Packages
    ansible: 
    ansible: Total download size: 53 M
    ansible: Downloading Packages:
    ansible: (1/15): python3-pyyaml-5.4.1-6.el9.x86_64.rpm   392 kB/s | 191 kB     00:00
    ansible: (2/15): python3-setuptools-53.0.0-13.el9.noarch 1.1 MB/s | 838 kB     00:00
    ansible: (3/15): nano-5.6.1-6.el9.x86_64.rpm             2.0 MB/s | 691 kB     00:00
    ansible: (4/15): python3-cffi-1.14.5-5.el9.x86_64.rpm    1.7 MB/s | 241 kB     00:00
    ansible: (5/15): python3-ply-3.11-14.el9.0.1.noarch.rpm  753 kB/s | 103 kB     00:00
    ansible: (6/15): python3-cryptography-36.0.1-4.el9.x86_6 2.9 MB/s | 1.2 MB     00:00
    ansible: (7/15): python3-pycparser-2.20-6.el9.noarch.rpm 1.3 MB/s | 124 kB     00:00
    ansible: (8/15): python3-resolvelib-0.5.4-5.el9.noarch.r  78 kB/s |  29 kB     00:00
    ansible: (9/15): python3-packaging-20.9-5.el9.noarch.rpm 138 kB/s |  69 kB     00:00
    ansible: (10/15): sshpass-1.09-4.el9.x86_64.rpm          154 kB/s |  27 kB     00:00
    ansible: (11/15): ansible-7.7.0-1.el9.noarch.rpm          17 MB/s |  34 MB     00:02
    ansible: (12/15): git-core-2.43.5-2.el9_5.x86_64.rpm     8.1 MB/s | 4.4 MB     00:00
    ansible: (13/15): ansible-core-2.14.17-1.el9.x86_64.rpm  4.0 MB/s | 2.2 MB     00:00
    ansible: (14/15): vim-enhanced-8.2.2637-21.el9.x86_64.rp 5.5 MB/s | 1.7 MB     00:00
    ansible: (15/15): vim-common-8.2.2637-21.el9.x86_64.rpm   16 MB/s | 6.6 MB     00:00
    ansible: --------------------------------------------------------------------------------
    ansible: Total                                            14 MB/s |  53 MB     00:03
    ansible: Running transaction check
    ansible: Transaction check succeeded.
    ansible: Running transaction test
    ansible: Transaction test succeeded.
    ansible: Running transaction
    ansible:   Preparing        :                                                        1/1
    ansible:   Upgrading        : vim-common-2:8.2.2637-21.el9.x86_64                   1/17
    ansible:   Installing       : git-core-2.43.5-2.el9_5.x86_64                        2/17
    ansible:   Installing       : sshpass-1.09-4.el9.x86_64                             3/17
    ansible:   Installing       : python3-resolvelib-0.5.4-5.el9.noarch                 4/17
    ansible:   Installing       : python3-packaging-20.9-5.el9.noarch                   5/17
    ansible:   Installing       : python3-ply-3.11-14.el9.0.1.noarch                    6/17
    ansible:   Installing       : python3-pycparser-2.20-6.el9.noarch                   7/17
    ansible:   Installing       : python3-cffi-1.14.5-5.el9.x86_64                      8/17
    ansible:   Installing       : python3-cryptography-36.0.1-4.el9.x86_64              9/17
    ansible:   Installing       : python3-setuptools-53.0.0-13.el9.noarch              10/17
    ansible:   Installing       : python3-pyyaml-5.4.1-6.el9.x86_64                    11/17
    ansible:   Installing       : ansible-core-1:2.14.17-1.el9.x86_64                  12/17
    ansible:   Installing       : ansible-1:7.7.0-1.el9.noarch                         13/17
    ansible:   Upgrading        : vim-enhanced-2:8.2.2637-21.el9.x86_64                14/17
    ansible:   Installing       : nano-5.6.1-6.el9.x86_64                              15/17
    ansible:   Cleanup          : vim-enhanced-2:8.2.2637-20.el9_1.x86_64              16/17
    ansible:   Cleanup          : vim-common-2:8.2.2637-20.el9_1.x86_64                17/17
    ansible:   Running scriptlet: vim-common-2:8.2.2637-20.el9_1.x86_64                17/17
    ansible:   Verifying        : ansible-1:7.7.0-1.el9.noarch                          1/17
    ansible:   Verifying        : python3-pyyaml-5.4.1-6.el9.x86_64                     2/17
    ansible:   Verifying        : python3-setuptools-53.0.0-13.el9.noarch               3/17
    ansible:   Verifying        : nano-5.6.1-6.el9.x86_64                               4/17
    ansible:   Verifying        : python3-cryptography-36.0.1-4.el9.x86_64              5/17
    ansible:   Verifying        : python3-cffi-1.14.5-5.el9.x86_64                      6/17
    ansible:   Verifying        : python3-ply-3.11-14.el9.0.1.noarch                    7/17
    ansible:   Verifying        : python3-pycparser-2.20-6.el9.noarch                   8/17
    ansible:   Verifying        : python3-packaging-20.9-5.el9.noarch                   9/17
    ansible:   Verifying        : python3-resolvelib-0.5.4-5.el9.noarch                10/17
    ansible:   Verifying        : sshpass-1.09-4.el9.x86_64                            11/17
    ansible:   Verifying        : git-core-2.43.5-2.el9_5.x86_64                       12/17
    ansible:   Verifying        : ansible-core-1:2.14.17-1.el9.x86_64                  13/17
    ansible:   Verifying        : vim-enhanced-2:8.2.2637-21.el9.x86_64                14/17
    ansible:   Verifying        : vim-enhanced-2:8.2.2637-20.el9_1.x86_64              15/17
    ansible:   Verifying        : vim-common-2:8.2.2637-21.el9.x86_64                  16/17
    ansible:   Verifying        : vim-common-2:8.2.2637-20.el9_1.x86_64                17/17
    ansible: 
    ansible: Upgraded:
    ansible:   vim-common-2:8.2.2637-21.el9.x86_64   vim-enhanced-2:8.2.2637-21.el9.x86_64
    ansible: Installed:
    ansible:   ansible-1:7.7.0-1.el9.noarch
    ansible:   ansible-core-1:2.14.17-1.el9.x86_64
    ansible:   git-core-2.43.5-2.el9_5.x86_64
    ansible:   nano-5.6.1-6.el9.x86_64
    ansible:   python3-cffi-1.14.5-5.el9.x86_64
    ansible:   python3-cryptography-36.0.1-4.el9.x86_64
    ansible:   python3-packaging-20.9-5.el9.noarch
    ansible:   python3-ply-3.11-14.el9.0.1.noarch
    ansible:   python3-pycparser-2.20-6.el9.noarch
    ansible:   python3-pyyaml-5.4.1-6.el9.x86_64
    ansible:   python3-resolvelib-0.5.4-5.el9.noarch
    ansible:   python3-setuptools-53.0.0-13.el9.noarch
    ansible:   sshpass-1.09-4.el9.x86_64
    ansible: 
    ansible: Complete!
    ansible: Generating public/private rsa key pair.
    ansible: Enter file in which to save the key (/home/vagrant/.ssh/id_rsa): Your identification has been saved in /home/vagrant/.ssh/id_rsa
    ansible: Your public key has been saved in /home/vagrant/.ssh/id_rsa.pub
    ansible: The key fingerprint is:
    ansible: SHA256:JRl1yZOtABLOPN6OJkL9lxoahUYMoqY7gMY8/G1O/4E vagrant@ansible
    ansible: The key's randomart image is:
    ansible: +---[RSA 4096]----+
    ansible: |. .   o.oo...+   |
    ansible: |.. o + . o..= .  |
    ansible: |..  o = o .. o   |
    ansible: |B  o o o o  .    |
    ansible: |+*. + o S        |
    ansible: |ooo..o o..       |
    ansible: |o ..o+=E+.       |
    ansible: | . .+=.+  .      |
    ansible: |    ......       |
    ansible: +----[SHA256]-----+
    ansible: Enter passphrase (empty for no passphrase): Enter same passphrase again: # rocky:22 SSH-2.0-OpenSSH_8.7
    ansible: # rocky.sandbox.lan:22 SSH-2.0-OpenSSH_8.7
    ansible: /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/vagrant/.ssh/id_rsa.pub"
    ansible: /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
    ansible: /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
    ansible: 
    ansible: Number of key(s) added: 1
    ansible: 
    ansible: Now try logging into the machine, with:   "ssh 'vagrant@rocky'"
    ansible: and check to make sure that only the key(s) you wanted were added.
    ansible: 
    ansible: # debian:22 SSH-2.0-OpenSSH_9.2p1 Debian-2+deb12u2
    ansible: # debian.sandbox.lan:22 SSH-2.0-OpenSSH_9.2p1 Debian-2+deb12u2
    ansible: /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/vagrant/.ssh/id_rsa.pub"
    ansible: /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
    ansible: /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
    ansible: 
    ansible: Number of key(s) added: 1
    ansible: 
    ansible: Now try logging into the machine, with:   "ssh 'vagrant@debian'"
    ansible: and check to make sure that only the key(s) you wanted were added.
    ansible: 
    ansible: # suse:22 SSH-2.0-OpenSSH_8.4
    ansible: # suse.sandbox.lan:22 SSH-2.0-OpenSSH_8.4
    ansible: /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/vagrant/.ssh/id_rsa.pub"
    ansible: /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
    ansible: /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
    ansible: 
    ansible: Number of key(s) added: 1
    ansible: 
    ansible: Now try logging into the machine, with:   "ssh 'vagrant@suse'"
    ansible: and check to make sure that only the key(s) you wanted were added.
    ansible: 
    ansible: --2025-03-24 09:42:25--  https://github.com/direnv/direnv/releases/download/v2.35.0/direnv.linux-amd64
    ansible: Resolving github.com (github.com)... 140.82.121.4
    ansible: Connecting to github.com (github.com)|140.82.121.4|:443... connected.
    ansible: HTTP request sent, awaiting response... 302 Found
    ansible: Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/1219305/a26ae894-37af-4662-b55b-aef71ac375ad?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250324%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250324T094226Z&X-Amz-Expires=300&X-Amz-Signature=ad40b4cdf02ebc774a0e65c843fefcdaa6dae3b9883ed22c398df2bfe0d3d4ea&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Ddirenv.linux-amd64&response-content-type=application%2Foctet-stream [following]
    ansible: --2025-03-24 09:42:25--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/1219305/a26ae894-37af-4662-b55b-aef71ac375ad?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250324%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250324T094226Z&X-Amz-Expires=300&X-Amz-Signature=ad40b4cdf02ebc774a0e65c843fefcdaa6dae3b9883ed22c398df2bfe0d3d4ea&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Ddirenv.linux-amd64&response-content-type=application%2Foctet-stream
    ansible: Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ...
    ansible: Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.
    ansible: HTTP request sent, awaiting response... 200 OK
    ansible: Length: 6934528 (6.6M) [application/octet-stream]
    ansible: Saving to: ‘/usr/local/bin/direnv’
    ansible: 
    ansible:      0K .......... .......... .......... .......... ..........  0%  794K 8s
    ansible:     50K .......... .......... .......... .......... ..........  1% 2.27M 6s
    ansible:    100K .......... .......... .......... .......... ..........  2% 3.60M 4s
    ansible:    150K .......... .......... .......... .......... ..........  2% 4.61M 4s
    ansible:    200K .......... .......... .......... .......... ..........  3% 6.46M 3s
    ansible:    250K .......... .......... .......... .......... ..........  4% 6.44M 3s
    ansible:    300K .......... .......... .......... .......... ..........  5% 9.12M 2s
    ansible:    350K .......... .......... .......... .......... ..........  5% 7.38M 2s
    ansible:    400K .......... .......... .......... .......... ..........  6% 10.2M 2s
    ansible:    450K .......... .......... .......... .......... ..........  7% 9.29M 2s
    ansible:    500K .......... .......... .......... .......... ..........  8% 19.4M 2s
    ansible:    550K .......... .......... .......... .......... ..........  8% 16.0M 2s
    ansible:    600K .......... .......... .......... .......... ..........  9% 14.7M 1s
    ansible:    650K .......... .......... .......... .......... .......... 10% 12.3M 1s
    ansible:    700K .......... .......... .......... .......... .......... 11% 5.24M 1s
    ansible:    750K .......... .......... .......... .......... .......... 11% 37.2M 1s
    ansible:    800K .......... .......... .......... .......... .......... 12% 26.8M 1s
    ansible:    850K .......... .......... .......... .......... .......... 13% 26.2M 1s
    ansible:    900K .......... .......... .......... .......... .......... 14% 24.0M 1s
    ansible:    950K .......... .......... .......... .......... .......... 14% 44.9M 1s
    ansible:   1000K .......... .......... .......... .......... .......... 15% 21.1M 1s
    ansible:   1050K .......... .......... .......... .......... .......... 16% 26.8M 1s
    ansible:   1100K .......... .......... .......... .......... .......... 16% 45.1M 1s
    ansible:   1150K .......... .......... .......... .......... .......... 17% 18.1M 1s
    ansible:   1200K .......... .......... .......... .......... .......... 18% 34.8M 1s
    ansible:   1250K .......... .......... .......... .......... .......... 19% 43.9M 1s
    ansible:   1300K .......... .......... .......... .......... .......... 19% 24.4M 1s
    ansible:   1350K .......... .......... .......... .......... .......... 20% 38.8M 1s
    ansible:   1400K .......... .......... .......... .......... .......... 21% 17.8M 1s
    ansible:   1450K .......... .......... .......... .......... .......... 22% 9.48M 1s
    ansible:   1500K .......... .......... .......... .......... .......... 22% 20.8M 1s
    ansible:   1550K .......... .......... .......... .......... .......... 23% 22.5M 1s
    ansible:   1600K .......... .......... .......... .......... .......... 24% 18.8M 1s
    ansible:   1650K .......... .......... .......... .......... .......... 25% 60.1M 1s
    ansible:   1700K .......... .......... .......... .......... .......... 25% 25.6M 1s
    ansible:   1750K .......... .......... .......... .......... .......... 26% 20.7M 1s
    ansible:   1800K .......... .......... .......... .......... .......... 27% 44.5M 1s
    ansible:   1850K .......... .......... .......... .......... .......... 28% 36.1M 1s
    ansible:   1900K .......... .......... .......... .......... .......... 28% 43.1M 1s
    ansible:   1950K .......... .......... .......... .......... .......... 29% 20.6M 1s
    ansible:   2000K .......... .......... .......... .......... .......... 30% 34.1M 1s
    ansible:   2050K .......... .......... .......... .......... .......... 31% 45.3M 0s
    ansible:   2100K .......... .......... .......... .......... .......... 31% 25.3M 0s
    ansible:   2150K .......... .......... .......... .......... .......... 32% 44.9M 0s
    ansible:   2200K .......... .......... .......... .......... .......... 33% 24.4M 0s
    ansible:   2250K .......... .......... .......... .......... .......... 33% 19.3M 0s
    ansible:   2300K .......... .......... .......... .......... .......... 34% 45.3M 0s
    ansible:   2350K .......... .......... .......... .......... .......... 35% 25.5M 0s
    ansible:   2400K .......... .......... .......... .......... .......... 36% 24.1M 0s
    ansible:   2450K .......... .......... .......... .......... .......... 36% 49.8M 0s
    ansible:   2500K .......... .......... .......... .......... .......... 37% 26.2M 0s
    ansible:   2550K .......... .......... .......... .......... .......... 38% 18.6M 0s
    ansible:   2600K .......... .......... .......... .......... .......... 39% 43.9M 0s
    ansible:   2650K .......... .......... .......... .......... .......... 39% 25.9M 0s
    ansible:   2700K .......... .......... .......... .......... .......... 40% 42.6M 0s
    ansible:   2750K .......... .......... .......... .......... .......... 41% 27.2M 0s
    ansible:   2800K .......... .......... .......... .......... .......... 42% 26.6M 0s
    ansible:   2850K .......... .......... .......... .......... .......... 42%  632K 0s
    ansible:   2900K .......... .......... .......... .......... .......... 43%  163M 0s
    ansible:   2950K .......... .......... .......... .......... .......... 44%  139M 0s
    ansible:   3000K .......... .......... .......... .......... .......... 45%  194M 0s
    ansible:   3050K .......... .......... .......... .......... .......... 45%  212M 0s
    ansible:   3100K .......... .......... .......... .......... .......... 46%  231M 0s
    ansible:   3150K .......... .......... .......... .......... .......... 47%  180M 0s
    ansible:   3200K .......... .......... .......... .......... .......... 47%  189M 0s
    ansible:   3250K .......... .......... .......... .......... .......... 48%  176M 0s
    ansible:   3300K .......... .......... .......... .......... .......... 49%  144M 0s
    ansible:   3350K .......... .......... .......... .......... .......... 50%  195M 0s
    ansible:   3400K .......... .......... .......... .......... .......... 50%  240M 0s
    ansible:   3450K .......... .......... .......... .......... .......... 51%  203M 0s
    ansible:   3500K .......... .......... .......... .......... .......... 52%  248M 0s
    ansible:   3550K .......... .......... .......... .......... .......... 53%  204M 0s
    ansible:   3600K .......... .......... .......... .......... .......... 53%  262M 0s
    ansible:   3650K .......... .......... .......... .......... .......... 54%  256M 0s
    ansible:   3700K .......... .......... .......... .......... .......... 55%  221M 0s
    ansible:   3750K .......... .......... .......... .......... .......... 56%  166M 0s
    ansible:   3800K .......... .......... .......... .......... .......... 56%  240M 0s
    ansible:   3850K .......... .......... .......... .......... .......... 57%  246M 0s
    ansible:   3900K .......... .......... .......... .......... .......... 58%  240M 0s
    ansible:   3950K .......... .......... .......... .......... .......... 59%  203M 0s
    ansible:   4000K .......... .......... .......... .......... .......... 59%  224M 0s
    ansible:   4050K .......... .......... .......... .......... .......... 60%  221M 0s
[ema@testlab:atelier-05] $ vagrant ssh ansible
[vagrant@ansible ~]$ type ansible direnv
ansible is /usr/bin/ansible
direnv is /usr/local/bin/direnv
[vagrant@ansible ~]$ ansible all -i debian,rocky,suse -m ping
debian | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
rocky | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
[WARNING]: Platform linux on host suse is using the discovered Python interpreter at /usr/bin/python3.6, but future
installation of another Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-core/2.14/reference_appendices/interpreter_discovery.html for more information.
suse | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.6"
    },
    "changed": false,
    "ping": "pong"
}
[vagrant@ansible ~]$ ls -l /etc/ansible/
total 8
-rw-r--r--. 1 root root  614 Nov  4 17:38 ansible.cfg
-rw-r--r--. 1 root root 1175 Nov  4 17:38 hosts
drwxr-xr-x. 2 root root    6 Nov  4 17:38 roles
[vagrant@ansible ~]$ mkdir -pv ~/ansible/projets/ema
mkdir: created directory '/home/vagrant/ansible'
mkdir: created directory '/home/vagrant/ansible/projets'
mkdir: created directory '/home/vagrant/ansible/projets/ema'
[vagrant@ansible ~]$ cd $_
[vagrant@ansible ema]$ ansible --version | head -n 2
ansible [core 2.14.17]
  config file = /etc/ansible/ansible.cfg
[vagrant@ansible ema]$ rpm -qif /etc/ansible/ansible.cfg | head -n 1
Name        : ansible-core
[vagrant@ansible ema]$ touch ~/.ansible.cfg
[vagrant@ansible ema]$ ansible --version | head -n 2
ansible [core 2.14.17]
  config file = /home/vagrant/.ansible.cfg
[vagrant@ansible ema]$ cd ~/ansible/projets/ema/
[vagrant@ansible ema]$ touch ansible.cfg
[vagrant@ansible ema]$ ansible --version | head -n 2
ansible [core 2.14.17]
  config file = /home/vagrant/ansible/projets/ema/ansible.cfg
[vagrant@ansible ema]$ mkdir -v playbooks
mkdir: created directory 'playbooks'
[vagrant@ansible ema]$ cd playbooks/
[vagrant@ansible playbooks]$ pwd
/home/vagrant/ansible/projets/ema/playbooks
[vagrant@ansible playbooks]$ ansible --version | head -n 2
ansible [core 2.14.17]
  config file = /home/vagrant/.ansible.cfg
[vagrant@ansible playbooks]$ export ANSIBLE_CONFIG=$(expand_path ansible.cfg)^C
[vagrant@ansible playbooks]$ cd ..
[vagrant@ansible ema]$ export ANSIBLE_CONFIG=$(expand_path ansible.cfg)
-bash: expand_path: command not found
[vagrant@ansible ema]$ direnv allow
direnv: error .envrc file not found
[vagrant@ansible ema]$ type direnv
direnv is hashed (/usr/local/bin/direnv)
[vagrant@ansible ema]$ rouch .envrc
-bash: rouch: command not found
[vagrant@ansible ema]$ touch .envrc
direnv: error /home/vagrant/ansible/projets/ema/.envrc is blocked. Run `direnv allow` to approve its content
[vagrant@ansible ema]$ direnv allow
direnv: loading ~/ansible/projets/ema/.envrc
[vagrant@ansible ema]$ touch .envrc
direnv: loading ~/ansible/projets/ema/.envrc
[vagrant@ansible ema]$ export ANSIBLE_CONFIG=$(expand_path ansible.cfg)
-bash: expand_path: command not found
[vagrant@ansible ema]$ echo 'export ANSIBLE_CONFIG=$(expand_path ansible.cfg)' > .envrc
direnv: error /home/vagrant/ansible/projets/ema/.envrc is blocked. Run `direnv allow` to approve its content
[vagrant@ansible ema]$ direnv allow
direnv: loading ~/ansible/projets/ema/.envrc
direnv: export ~ANSIBLE_CONFIG
[vagrant@ansible ema]$ echo $ANSIBLE_CONFIG
/home/vagrant/ansible/projets/ema/ansible.cfg
[vagrant@ansible ema]$ 
[vagrant@ansible ema]$ 
[vagrant@ansible ema]$ pwd
/home/vagrant/ansible/projets/ema
[vagrant@ansible ema]$ ansible --version | head -n 2
ansible [core 2.14.17]
  config file = /home/vagrant/ansible/projets/ema/ansible.cfg
[vagrant@ansible ema]$ cd playbooks/
[vagrant@ansible playbooks]$ pwd
/home/vagrant/ansible/projets/ema/playbooks
[vagrant@ansible playbooks]$ ansible --version | head -n 2
ansible [core 2.14.17]
  config file = /home/vagrant/ansible/projets/ema/ansible.cfg
[vagrant@ansible playbooks]$ cd ..
[vagrant@ansible ema]$ nano ansible.cfg 
[vagrant@ansible ema]$ ls
ansible.cfg  playbooks
[vagrant@ansible ema]$ mkdir -v ~/logs
mkdir: created directory '/home/vagrant/logs'
[vagrant@ansible ema]$ nano ansible.cfg 
[vagrant@ansible ema]$ ansible all -i rocky,debian,suse -m ping
debian | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
rocky | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
[WARNING]: Platform linux on host suse is using the discovered Python interpreter at /usr/bin/python3.6, but future
installation of another Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-core/2.14/reference_appendices/interpreter_discovery.html for more information.
suse | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.6"
    },
    "changed": false,
    "ping": "pong"
}
[vagrant@ansible ema]$ cat ~/logs/ansible.log
2025-03-24 09:51:56,967 p=6258 u=vagrant n=ansible | debian | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
2025-03-24 09:51:57,096 p=6258 u=vagrant n=ansible | rocky | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
2025-03-24 09:51:57,114 p=6258 u=vagrant n=ansible | [WARNING]: Platform linux on host suse is using the discovered Python interpreter at /usr/bin/python3.6, but future
installation of another Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-core/2.14/reference_appendices/interpreter_discovery.html for more information.

2025-03-24 09:51:57,114 p=6258 u=vagrant n=ansible | suse | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.6"
    },
    "changed": false,
    "ping": "pong"
}
[vagrant@ansible ema]$ 
[vagrant@ansible ema]$ 
[vagrant@ansible ema]$ 
[vagrant@ansible ema]$ cat ansible.cfg 
[defaults]
inventory = ./inventory
log_path = ~/logs/ansible.log
[vagrant@ansible ema]$ ansible all -a "head -n 1 /etc/shadow"
[WARNING]: Unable to parse /home/vagrant/ansible/projets/ema/inventory as an inventory source
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not
match 'all'
[vagrant@ansible ema]$ nano inventory
[vagrant@ansible ema]$ ansible all -m ping
debian | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
suse | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
rocky | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
[vagrant@ansible ema]$ ansible all -a "head -n 1 /etc/shadow"
debian | FAILED | rc=1 >>
head: cannot open '/etc/shadow' for reading: Permission deniednon-zero return code
rocky | FAILED | rc=1 >>
head: cannot open '/etc/shadow' for reading: Permission deniednon-zero return code
suse | FAILED | rc=1 >>
head: cannot open '/etc/shadow' for reading: Permission deniednon-zero return code
[vagrant@ansible ema]$ nano inventory
[vagrant@ansible ema]$ ansible all -a "head -n 1 /etc/shadow"
debian | CHANGED | rc=0 >>
root:!$y$j9T$cnYeciMny4hdKr8syHPzE.$hxcd/wjU5wCDVKm1HbZGS0Uy/b7B9Nwgiz.JiqspIE6:19732:0:99999:7:::
suse | CHANGED | rc=0 >>
root:!$6$OtVuw4E9xL/Nzile$vACSEse85MEa7qevVkcmccS5ZV2i7Z7cZFXKUi0dz5rcKqpiZzLskZycIsypNh9uL5Iw14DIcUQwDp0Oucduw0:19733::::::
rocky | CHANGED | rc=0 >>
root:!!$6$5/T3Vw1/TxLev/oU$jOnkOCrDRv4A4w7I/SegYpXoeRz4HXeIh6y71wsIfmdiiOUk5VjWEy7YGcPmvNpflQcFTeuyFLfKOSDKeqfbm0:19732:0:99999:7:::
[vagrant@ansible ema]$ exit
logout
Connection to 127.0.0.1 closed.
[ema@testlab:atelier-05] $ vagrant destroy -f
==> ansible: Forcing shutdown of VM...
==> ansible: Destroying VM and associated drives...
==> suse: Forcing shutdown of VM...
==> suse: Destroying VM and associated drives...
==> debian: Forcing shutdown of VM...
==> debian: Destroying VM and associated drives...
==> rocky: Forcing shutdown of VM...
==> rocky: Destroying VM and associated drives...
[ema@testlab:atelier-05] $ 
